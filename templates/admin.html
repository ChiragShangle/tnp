<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TNP | Dashboard</title>

  <!-- Google Font: Source Sans Pro -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{% static 'plugins/fontawesome-free/css/all.min.css' %}">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="{% static 'plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css' %}">
  <!-- iCheck -->
  <link rel="stylesheet" href="{% static 'plugins/icheck-bootstrap/icheck-bootstrap.min.css' %}">
  <!-- JQVMap -->
  <link rel="stylesheet" href="{% static 'plugins/jqvmap/jqvmap.min.css' %}">
  <!-- Theme style -->
  <link rel="stylesheet" href="{% static 'dist/css/adminlte.min.css' %}">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="{% static 'plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="{% static 'plugins/daterangepicker/daterangepicker.css' %}">
  <!-- summernote -->
  <link rel="stylesheet" href="{% static 'plugins/summernote/summernote-bs4.min.css' %}">
</head>
<style>
  .switch {
      display: inline-block;
      width: 40px;
      height: 22px;
      position: relative;
    }

.toggle-thumb {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #475569;
      border-radius: 26px;
      cursor: pointer;
    }
    .toggle-thumb:before {
      content: "";
      height: 17px;
      width: 17px;
      position: absolute;
      left: 3px;
      bottom: 3px;
      border-radius: 50%;
      background-color: #E2E8F0;
      transition: .4s all ease;
    }
    .checkbox {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .checkbox:checked + .toggle-thumb:before {
      transform: translateX(17px);
    }
</style>
<body class="hold-transition layout-fixed">
 <!-- Navbar -->{% load static %}

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#"><span style="color: #00ffff;">TNP Portal</span></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarText">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <a class="nav-link" href="">Home</a>
      </li>
      <li class="nav-item active">
        <a class="nav-link" id="def" href="#">View Students</a>
      </li>
      <li class="nav-item">
       <form action="logout" method="get">
            <a class="nav-link" href="./logout">
              <button>Logout</button></a>
          </form>
      </li>
    </ul>
    <span class="navbar-text">
      Suraj Mamgai&nbsp;&nbsp;
    </span>
  </div>
</nav>


<section class="content">
  <div class="container-fluid">
    <!-- Small boxes (Stat box) -->
    <div class="row">
      <div class="col-lg-3 col-6 my-3">
        <!-- small box -->
        <div class="small-box bg-info" id="status">
          <div class="inner">
            <h3>Status</h3>
            <p>Update Placement Status </p>
          </div>
          <div class="icon">
            <i class="ion ion-pie-graph"></i>
          </div>
        </div>
      </div>
      <!-- ./col -->
      <div class="col-lg-3 col-6 my-3">
        <!-- small box -->
        <div class="small-box bg-success" id="records">
          <div class="inner">
            <h3>Records</h3>
            <p>Past Placements Records</p>
          </div>
          <div class="icon">
            <i class="ion ion-stats-bars"></i>
          </div>
        </div>
      </div>
      <div class="col-lg-3 col-6 my-3">
        <!-- small box -->
        <div class="small-box bg-warning" id="score">
          <div class="inner">
            <h3>Academics</h3>

            <p>Update Semester Marks</p>
          </div>
          <div class="icon">
            <i class="ion ion-clipboard"></i>
          </div>
        </div>
      </div>
      <!-- ./col -->
      <div class="col-lg-3 col-6 my-3">
        <!-- small box -->
        <a >
        <div class="small-box bg-danger" id="company">
          <div class="inner">
            <h3>Company</h3>
            <p>Upcoming / Next Week</p>
          </div>
          <div class="icon">
            <i class="ion ion-person-add"></i>
          </div>
        </div>
      </a>
      </div>
    </div>
    </div>
      </section>


      <div id="mydef">
      <div class="card">
        <div class="card-header border-transparent">
          <h3 class="card-title">Students List</h3>
        </div>
        <!-- /.card-header -->
        <div class="card-body p-0">
          <div class="table-responsive">
            <table class="table m-0">
              <thead>
              <tr>
                <th>Enrollment Id</th>
                <th>Student Name</th>
                <th>Placement Status</th>
                <th>Academic Score</th>
              </tr>
              </thead>
              <tbody>
                {% for key,value in context.marks.items %}
                <tr>
                  <td><a href="#">{{key}}</a></td>
                  <td>{{value.1}} {{value.2}}</td>
                  {% if value.3 is True %}
                  <td><span class="badge badge-success">Placed</span></td>
                  {% else %}
                  <td><span class="badge badge-success">Not Placed</span></td>
                  {% endif %}
                  <td>
                    <div class="sparkbar" data-color="#00a65a" data-height="20">{{value.0}}%</div>
                  </td>
                </tr>
                {% endfor %}
               
              </tbody>
            </table>
          </div>
          <!-- /.table-responsive -->
        </div>
        <!-- /.card-body -->
      </div>
      <!-- /.card -->
    </div>
    <!-- /.col -->
  </div>

  

    <div  id="mystatus" style="display: none;">
    <div class="card">
      <div class="card-header border-transparent">
        <h3 class="card-title">Students List</h3>
      </div>
      <!-- /.card-header -->
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table m-0">
            <thead>
            <tr>
              <th>Enrollment</th>
              <th>Student Name</th>
              <th>Placement Status</th>
            </tr>
            </thead>
            <tbody>

            {% for key,value in context.marks.items %}
              <tr>
                <td><a href="#">{{key}}</a></td>
                <td>{{value.1}} {{value.2}}</td>
                <td>
                  <label class="switch">
                  {% comment %} checker parameter as rollno and staut {% endcomment %}
                    <input type="checkbox" onclick="checker({{username}},{{status}},this)" class="checkbox">  
                    <span class="toggle-thumb">
               
                         <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" style="fill:#4ADE80;transform:;-ms-filter:"><path d="M10 15.586L6.707 12.293 5.293 13.707 10 18.414 19.707 8.707 18.293 7.293z"></path></svg>
               
                         <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" viewBox="0 0 24 24" style="fill:#F87171;transform:;-ms-filter:"><path d="M16.192 6.344L11.949 10.586 7.707 6.344 6.293 7.758 10.535 12 6.293 16.242 7.707 17.656 11.949 13.414 16.192 17.656 17.606 16.242 13.364 12 17.606 7.758z"></path></svg>
               
                    </span>
                     {% if value.3 is True %}
               </label>
              &nbsp; &nbsp;<label class="ps">Placed</label>
              {% else %}
               </label>
               
              &nbsp; &nbsp;<label class="ps">Not Placed</label>
              {% endif %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        <!-- /.table-responsive -->
      </div>
      <!-- /.card-body -->
    </div>
    <!-- /.card -->
  </div>
  <!-- /.col -->
</div>
<style>
  body {
  background-color: #f6f9fb;
}

.text-small {
  font-size: 0.9rem;
}

.rounded {
  border-radius: 1rem;
}

.position-center {
  top: 50%;
  left: 50%;
  transform: translateX(-50%) translateY(-50%);
}

a {
  color: inherit;
  text-decoration: none;
}
</style>
<style>
@media only screen and (max-width: 500px) {  
    .recphone
    {
      display: block;
    }
    .bgphone
    {
      width: 80vw;
    }
    .cgphone
    {
      width: 90vw;
    }
    
}  
</style>
<div class="content" id="myrecords" style="display:none">
  <!-- Default box -->
  <div class="card">
    <div class="card-body row recphone">
      
      <div class="col-5">
        <div class="card-body bgphone">
          <canvas id="donutChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
        </div>
    </div>
      <div class="col-7">
        <form action = "record" method="post">
        {% csrf_token %}
        <div class="form-group cgphone">
          <label for="inputName">Company Name</label>
          <input type="text" id="inputName" class="form-control" name="CName" />
        </div>
        <div class="form-group cgphone">
          <label for="inputSubject">No. of Students Placed</label>
          <input type="number" id="inputStudents" class="form-control" name="NoStudent"/>
        </div>
        <div class="form-group cgphone">
          <label for="inputMessage">Avg. Package (LPA)</label>
          <input type="number" id="inputPackage" class="form-control" name="AvgPack" />
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary" value="Update Placements">Update Placements</button>
        </div>
        </form>
      </div>
    </div>
  </div>
</div>

<div id="myscore">
  <div class="card">
    <div class="card-body row" class="recphone">
        <div class="card-body">
            &nbsp;&nbsp;&nbsp;<h3 class="card-title">Sem-wise Marks</h3><br>
          <div id="bar-chart" class="bgphone" style="height: 300px;"></div>
        </div>
      <div class="col-7">
        <form method="post" action="academics">
       {% csrf_token %}
        <div class="form-group cgphone">
          <label for="inputName">Roll No.</label>
          <input type="text" id="inputName" class="form-control" name="RollNo"/>
        </div>
        <div class="form-group cgphone">
          <label for="inputSubject">Choose Semester</label>
          <select class="form-control select2"name="semester" required>
            <option value="sem1">sem1</option>
            <option value="sem2">sem2</option>
            <option value="sem3">sem3</option>
            <option value="sem4">sem4</option>
            <option value="sem5">sem5</option>
            <option value="sem6">sem6</option>
            <option value="sem7">sem7</option>
            <option value="sem8">sem8</option>
          </select>
        </div>
        <div class="form-group cgphone">
          <label for="inputMessage">Marks</label>
          <input type="number" id="inputPackage" class="form-control" name="marks" />
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary" value="Update Marks">Update Marks</button>
        </div>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="content" id="mycompany" style="display:none">
  <div class="card">
    <div class="card-body row">
      <div class="col-12">
        <form action ="UCompany" method="post">
        {% csrf_token %}
        <div class="form-group">
          <label for="inputName">Company Name</label>
          <input type="text" id="inputName" class="form-control" name = "CName" />
        </div>
        <div class="form-group">
          <label for="inputName">Job Title</label>
          <input type="text" id="inputName" class="form-control" name= "JTitle" />
        </div>
        <div class="form-group">
          <label for="inputName">Avg. Package (LPA)</label>
          <input type="text" id="inputName" class="form-control" name="Avg" />
        </div>
        <div class="form-group">
          <label>Date:</label>
          <div class="input-group date" id="reservationdatetime" data-target-input="nearest">
            <input type="date" class="form-control" name="Date"/>
        </div>
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary" value="Add Details">Add Details</button>
        </div>
        </form>
      </div>
    </div>
  </div>
</div>

<style>
  body{
    overflow-x: hidden;
  }
</style>
<script>
  document.getElementById("def").addEventListener("click", defchange);
  var mydef=document.getElementById('mydef');
  document.getElementById("status").addEventListener("click", statuschange);
  var mystatus=document.getElementById('mystatus');
  document.getElementById("records").addEventListener("click", recordschange);
  var myrecords=document.getElementById('myrecords');
  document.getElementById("score").addEventListener("click", scorechange);
  var myscore=document.getElementById('myscore');
  function alertFunction() {
            myscore.style.display="none";
         }
         window.onload = alertFunction;
  document.getElementById("company").addEventListener("click", companychange);
  var mycompany=document.getElementById('mycompany');
  function defchange() {
    document.getElementById("status").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("records").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("score").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("company").style.filter="drop-shadow(0px 0px 0px #aaa)";
    mydef.style.display="initial";
    mystatus.style.display="none";
    myrecords.style.display="none";
    myscore.style.display="none";
    mycompany.style.display="none";

  }
  function statuschange() {
    document.getElementById("status").style.filter="drop-shadow(3px 3px 10px #444)";
    document.getElementById("records").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("score").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("company").style.filter="drop-shadow(0px 0px 0px #aaa)";
    mydef.style.display="none";
    mystatus.style.display="initial";
    myrecords.style.display="none";
    myscore.style.display="none";
    mycompany.style.display="none";

  }
  function recordschange() {
    document.getElementById("status").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("records").style.filter="drop-shadow(3px 3px 10px #444)";
    document.getElementById("score").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("company").style.filter="drop-shadow(0px 0px 0px #aaa)";
    mydef.style.display="none";
    mystatus.style.display="none";
    myrecords.style.display="initial";
    myscore.style.display="none";
    mycompany.style.display="none";
  }
  function scorechange() {
    document.getElementById("status").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("records").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("score").style.filter="drop-shadow(3px 3px 10px #444)";
    document.getElementById("company").style.filter="drop-shadow(0px 0px 0px #aaa)";
    mydef.style.display="none";
    mystatus.style.display="none";
    myrecords.style.display="none";
    myscore.style.display="initial";
    mycompany.style.display="none";
  }
  function companychange() {
    document.getElementById("status").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("records").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("score").style.filter="drop-shadow(0px 0px 0px #aaa)";
    document.getElementById("company").style.filter="drop-shadow(3px 3px 10px #444)";
    mydef.style.display="none";
    mystatus.style.display="none";
    myrecords.style.display="none";
    myscore.style.display="none";
    mycompany.style.display="initial";
  }
</script>
<script>

</script>
<script>

function checker(username,status,p) 
{
var x = document.getElementsByClassName("checkbox");
var y = document.getElementsByClassName("ps");
for (var i=0;i<x.length;i++)
{
  if(x[i]==p)
  {
    if(x[i].checked)
    {
      y[i].innerHTML="Placed";
    }
    else
    {
      y[i].innerHTML="Not Placed";
    }
  }
}

}

</script>

  







<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
<!-- jQuery UI 1.11.4 -->
<script src="{% static 'plugins/jquery-ui/jquery-ui.min.js' %}"></script>
<!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
<script>
  $.widget.bridge('uibutton', $.ui.button)
</script>
<!-- Bootstrap 4 -->
<script src="{% static 'plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>

<!-- ChartJS -->
<script src="{% static 'plugins/chart.js/Chart.min.js' %}"></script>
<!-- Sparkline -->
<script src="{% static 'plugins/sparklines/sparkline.js' %}"></script>
<!-- JQVMap -->
<script src="{% static 'plugins/jqvmap/jquery.vmap.min.js' %}"></script>
<script src="{% static 'plugins/jqvmap/maps/jquery.vmap.usa.js' %}"></script>
<!-- jQuery Knob Chart -->
<script src="{% static 'plugins/jquery-knob/jquery.knob.min.js' %}"></script>
<!-- daterangepicker -->
<script src="{% static 'plugins/moment/moment.min.js' %}"></script>
<script src="{% static 'plugins/daterangepicker/daterangepicker.js' %}"></script>
<!-- Tempusdominus Bootstrap 4 -->
<script src="{% static 'plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js' %}"></script>
<!-- Summernote -->
<script src="{% static 'plugins/summernote/summernote-bs4.min.js' %}"></script>
<!-- overlayScrollbars -->
<script src="{% static 'plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static 'dist/js/adminlte.js' %}"></script>
<!-- AdminLTE dashboard demo (This is only for demo purposes) -->
<script src="{% static 'dist/js/pages/dashboard.js' %}"></script>

<script src="{% static 'plugins/flot/jquery.flot.js' %}"></script>
<!-- FLOT RESIZE PLUGIN - allows the chart to redraw when the window is resized -->
<script src="{% static 'plugins/flot/plugins/jquery.flot.resize.js' %}"></script>
<!-- FLOT PIE PLUGIN - also used to draw donut charts -->
<script src="{% static 'plugins/flot/plugins/jquery.flot.pie.js' %}"></script>



<script>
  $(function () {
    var donutChartCanvas = $('#donutChart').get(0).getContext('2d')
    var donutData        = {
      labels: [
          'Amazon',
          'Z S Associates',
          'Ion Trading',
          'TCS',
          'Infosys',
          'Others',
      ],
      datasets: [
        {
          data: [700,500,400,600,300,100],
          backgroundColor : ['#f56954', '#00a65a', '#f39c12', '#00c0ef', '#3c8dbc', '#d2d6de'],
        }
      ]
    }
    var donutOptions     = {
      maintainAspectRatio : false,
      responsive : true,
    }
    new Chart(donutChartCanvas, {
      type: 'doughnut',
      data: donutData,
      options: donutOptions
    })
  })
</script>
<script>
  $(function () {
  var bar_data = {
      data : [[1,1000], [2,865], [3,734], [4,634], [5,923], [6,735],[7,812],[8,976]],
      bars: { show: true}
    }
    $.plot('#bar-chart', [bar_data], {
      grid  : {
        borderWidth: 1,
        borderColor: '#f3f3f3',
        tickColor  : '#f3f3f3'
      },
      series: {
         bars: {
          show: true, barWidth: 0.8, align: 'center',
        },
      },
      colors: ['#3c8dbc'],
    })
  })
    /* END BAR CHART */
</script>
</body>
      </html>